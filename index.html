<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ú•Ø§Ú©Ø±Ø¯Ù† Ù„Û• Ø³ÙØ± ğŸƒâ€â™‚ï¸</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    
    <style>
        :root {
            --primary: #8b5cf6; /* Ù…Û†Ø± */
            --accent: #f43f5e; /* Ø³ÙˆÙˆØ± */
            --text: #ffffff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; -webkit-user-select: none; }

        body {
            font-family: 'Vazirmatn', sans-serif;
            overflow: hidden;
            background-color: #111;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: manipulation;
        }

        /* Ø¨Ø§Ú¯Ø±Ø§ÙˆÙ†Ø¯ (ÙˆÛÙ†Û•ÛŒ Ú©Û†Ù„ÛÚ˜) */
        .game-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('college.jpg'); 
            background-size: cover;
            background-position: center;
            filter: brightness(0.3) blur(3px); /* ØªØ§Ø±ÛŒÚ© Ùˆ ØªÛ•ÚµØ® */
            z-index: -1;
        }

        .game-container {
            width: 100%;
            max-width: 600px;
            height: 300px;
            position: relative;
            border-bottom: 2px solid rgba(255,255,255,0.2);
            overflow: hidden;
            background: rgba(0,0,0,0.1); /* Ú©Û•Ù…ÛÚ© ØªØ§Ø±ÛŒÚ©ÛŒ Ø²ÛŒØ§Ø¯Û• */
        }

        /* ÛŒØ§Ø±ÛŒØ²Ø§Ù† */
        #player {
            width: 50px;
            height: 50px;
            font-size: 45px; /* Ù‚Û•Ø¨Ø§Ø±Û•ÛŒ Ú¯Û•ÙˆØ±Û•ØªØ± */
            position: absolute;
            bottom: 0;
            left: 50px; /* Ú©Û•Ù…ÛÚ© Ù‡ÛÙ†Ø§Ù…Û• Ù¾ÛØ´Û•ÙˆÛ• */
            z-index: 10;
            /* Ø¦Û•Ù…Û• Ú©Ø§Ø±Û•Ú©ØªÛ•Ø±Û•Ú©Û• Ø¯Û•Ø³ÙˆÚ•ÛÙ†ÛØª Ø¨Û† Ù„Ø§ÛŒ Ú•Ø§Ø³Øª */
            transform: scaleX(-1); 
        }

        /* Ø¨Û•Ø±Ø¨Û•Ø³Øª */
        #obstacle {
            width: 40px;
            height: 40px;
            font-size: 35px;
            position: absolute;
            bottom: 0;
            right: -50px;
            /* Ù„Ø§Ø¨Ø±Ø¯Ù†ÛŒ Ø¦Û•Ù†ÛŒÙ…Û•ÛŒØ´Ù† Ù„Û• Ø³Û•Ø±Û•ØªØ§ */
        }

        .animate-obstacle {
            animation: moveObstacle 1.8s infinite linear;
        }

        .animate-jump {
            animation: jump 0.5s linear;
        }

        @keyframes jump {
            0% { bottom: 0; }
            30% { bottom: 130px; }
            70% { bottom: 130px; }
            100% { bottom: 0; }
        }

        @keyframes moveObstacle {
            0% { right: -50px; }
            100% { right: 100%; }
        }

        .score-board {
            position: absolute;
            top: 20px; right: 20px;
            color: white; font-size: 1.5rem;
            text-shadow: 0 0 5px black;
            z-index: 20;
        }

        /* Ø´Ø§Ø´Û•ÛŒ Ø¯Û†Ú•Ø§Ù† */
        .game-over-screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 50;
            text-align: center;
            padding: 20px;
        }

        .funny-msg {
            color: #fca5a5;
            font-size: 1.1rem;
            margin: 15px 0;
            line-height: 1.6;
            max-width: 80%;
        }

        .btn-restart {
            background: var(--primary);
            color: white; border: none; padding: 12px 35px;
            font-size: 1.2rem; border-radius: 50px; cursor: pointer;
            box-shadow: 0 0 15px var(--primary);
        }

        .ground {
            position: absolute; bottom: 0; width: 100%; height: 4px;
            background: white; opacity: 0.2;
        }

        .start-msg {
            position: absolute; top: 40%; left: 50%;
            transform: translate(-50%, -50%);
            color: rgba(255,255,255,0.9);
            font-size: 1.4rem; text-align: center;
            pointer-events: none;
            text-shadow: 0 0 10px black;
        }

    </style>
</head>
<body onclick="jump()">

    <div class="game-bg"></div>

    <div class="game-container">
        <div class="score-board"><span id="scoreSpan">0</span></div>
        
        <div id="player">ğŸƒâ€â™‚ï¸</div>
        <div id="obstacle">ğŸ“š</div>

        <div class="ground"></div>
        <div class="start-msg" id="startMsg">Ú©Ù„ÛŒÚ© Ø¨Ú©Û• Ø¨Û† Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†</div>

        <div class="game-over-screen" id="gameOverMsg">
            <h1 style="color: var(--accent); font-size: 2rem;">Ø¯Û†Ú•Ø§ÛŒ! ğŸ’€</h1>
            
            <p class="funny-msg" id="funnyText">...</p>
            
            <p style="margin-bottom: 20px; color: #a5b4fc;">Ù†Ù…Ø±Û•ÛŒ Ú©Û†ØªØ§ÛŒÛŒ: <span id="finalScore">0</span></p>
            <button class="btn-restart" onclick="restartGame(event)">ÛŒØ§Ø±ÛŒ Ú©Ø±Ø¯Ù†Û•ÙˆÛ• ğŸ”„</button>
        </div>
    </div>

    <script>
        var player = document.getElementById("player");
        var obstacle = document.getElementById("obstacle");
        var scoreSpan = document.getElementById("scoreSpan");
        var gameOverMsg = document.getElementById("gameOverMsg");
        var startMsg = document.getElementById("startMsg");
        var funnyText = document.getElementById("funnyText");
        
        var score = 0;
        var gameStarted = false;
        var isDead = false;
        var checkDeadInterval;

        // Ù„ÛŒØ³ØªÛ•ÛŒ Ù‚Ø³Û• Ú©Û†Ù…ÛŒØ¯ÛŒÛŒÛ•Ú©Ø§Ù†
        const deathMessages = [
            "Ú©Ø§Ú© Ø¹ÙˆÙ…Û•Ø± Ù„ÛØ±Û•Ø´ Ø²Û•ÛŒÙ†Øª Ø¦ÛŒØ´ Ù†Ø§Ú©Ø§Øª! ğŸ˜‚",
            "Ø®Ø§Ø±Û• Ù‡Û•Ø± Ø¦Ø§Ú¯Ø§Øª Ù„Û• Ø¯Û•Ø±Ø³Û•Ú©Û• Ù†ÛŒÛŒÛ•ØŒ Ø¦Ø§Ú¯Ø§Øª Ù„Û• Ú¯Û•Ù…Û•ÛŒ Ø¨ÛŒ Ø¨Û•Ø´Û•Ø±! ğŸŒš",
            "Ù„Û•Ø¨Û•Ø± Ø¯Ø§ÚµØºÛ• Ù„ÛØ¯Ø§Ù† Ù„Û• ÛŒØ§Ø±ØŒ Ø¦Ø§Ú¯Ø§Øª Ù†Û• Ù„Û• Ù…Û•Ø­Ø§Ø²Û•Ø±Û• Ù‡Û•ÛŒÛ• Ù†Û• Ú¯Û•Ù…Û• ğŸ’”",
            "ØªÛ†ÛŒÛ•Ú©ÛŒ Ú¯Û•Ù†Ø¬ Ø¯ÚµÙ…Ø§Ù† Ù†Û•Ø¯Û•Ù‡Ø§Øª ØªÛ•Ù…Ø§Ø´Ø§Øª Ú©Û•ÛŒÙ†ØŒ Ø¦Û•ÙˆÛ• Ø­Ø§ÚµØªÛ• Ø¦ÛØ³ØªÛ•ØŸ ğŸ¸",
            "Ø¨Ú•Û† Ø¯Û•Ø±Ø³Û•Ú©Û•Øª Ø¨Ø®ÙˆÛÙ†Û• Ø¨Ø§Ø´ØªØ±Û•ØŒ ØªÛ† Ù‡ÛŒ ÛŒØ§Ø±ÛŒ Ù†ÛŒØª! ğŸ“š"
        ];

        // Ø¬Û†Ø±Û•Ú©Ø§Ù†ÛŒ Ø¨Û•Ø±Ø¨Û•Ø³Øª
        const obstacles = ["ğŸ“š", "ğŸ…¾ï¸", "ğŸ’¤", "ğŸ“"];

        function jump() {
            if(isDead) return;

            if (!gameStarted) {
                startGame();
                return;
            }

            if(player.classList != "animate-jump"){
                player.classList.add("animate-jump");
                setTimeout(function(){
                    player.classList.remove("animate-jump");
                }, 500);
            }
        }

        function startGame() {
            gameStarted = true;
            startMsg.style.display = "none";
            obstacle.classList.add("animate-obstacle");
            
            // Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†ÛŒ Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ù¾ÛÚ©Ø¯Ø§Ø¯Ø§Ù†
            checkDeadInterval = setInterval(checkCollision, 10);
        }

        function checkCollision() {
            // Ø´ÙˆÛÙ†ÛŒ ÛŒØ§Ø±ÛŒØ²Ø§Ù† (Top)
            var playerTop = parseInt(window.getComputedStyle(player).getPropertyValue("top"));
            
            // Ø´ÙˆÛÙ†ÛŒ Ø¨Û•Ø±Ø¨Û•Ø³Øª (Right - Ú†ÙˆÙ†Ú©Û• Ù„Û• Ú•Ø§Ø³ØªÛ•ÙˆÛ• Ø¯ÛØª)
            // Ø¨Û•ÚµØ§Ù… Ù„ÛØ±Û• Left Ø¨Û•Ú©Ø§Ø±Ø¯ÛÙ†ÛŒÙ† Ø¨Û† Ù¾ÛÚ©Ø¯Ø§Ø¯Ø§Ù†
            var obstacleLeft = parseInt(window.getComputedStyle(obstacle).getPropertyValue("left"));

            // Ù„Û†Ø¬ÛŒÚ©ÛŒ Ù¾ÛÚ©Ø¯Ø§Ø¯Ø§Ù† (ÙˆØ±Ø¯Ú©Ø±Ø§ÙˆÛ•ØªÛ•ÙˆÛ•)
            // Ø¦Û•Ú¯Û•Ø± Ø¨Û•Ø±Ø¨Û•Ø³ØªÛ•Ú©Û• Ú¯Û•ÛŒØ´ØªÛ• Ø´ÙˆÛÙ†ÛŒ ÛŒØ§Ø±ÛŒØ²Ø§Ù† (Ù†ÛÙˆØ§Ù† Ù¥Ù  Ùˆ Ù )
            // ÙˆÛ• ÛŒØ§Ø±ÛŒØ²Ø§Ù†Û•Ú©Û• Ù„Û• Ø²Û•ÙˆÛŒÛŒÛ•Ú©Û• Ù†Ø²ÛŒÚ© Ø¨ÙˆÙˆ (Ø¨Ø§Ø²ÛŒÙ†Û•Ø¯Ø§ Ø¨ÙˆÙˆ > Ù¢Ù¤Ù )
            if(obstacleLeft < 90 && obstacleLeft > 40 && playerTop >= 240){
                gameOver();
            } else {
                // Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù†Ù…Ø±Û• Ø¨Û• Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù…ÛŒ
                score++;
                if(score % 10 == 0) {
                    scoreSpan.innerText = Math.floor(score / 100);
                }
            }
        }

        // Ú¯Û†Ú•ÛŒÙ†ÛŒ Ø´ÛÙˆÛ•ÛŒ Ø¨Û•Ø±Ø¨Û•Ø³Øª
        obstacle.addEventListener('animationiteration', () => {
            var randomIcon = obstacles[Math.floor(Math.random() * obstacles.length)];
            obstacle.innerText = randomIcon;
        });

        function gameOver() {
            isDead = true;
            obstacle.style.animation = "none"; // Ú•Ø§Ú¯Ø±ØªÙ†ÛŒ Ø¬ÙˆÚµÛ•
            obstacle.style.display = "none";
            clearInterval(checkDeadInterval); // Ú•Ø§Ú¯Ø±ØªÙ†ÛŒ Ù¾Ø´Ú©Ù†ÛŒÙ†

            // Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ù‚Ø³Û•ÛŒ Ú©Û†Ù…ÛŒØ¯ÛŒ
            var randomMsg = deathMessages[Math.floor(Math.random() * deathMessages.length)];
            funnyText.innerText = randomMsg;
            
            document.getElementById("finalScore").innerText = Math.floor(score / 100);
            gameOverMsg.style.display = "flex";
        }

        function restartGame(e) {
            e.stopPropagation();
            location.reload();
        }

        // Spacebar support
        document.body.onkeyup = function(e){
            if(e.keyCode == 32){
                jump();
            }
        }
    </script>
</body>
</html>
